{"version":3,"sources":["webpack:///./src/views/Auth.vue?c296","webpack:///./src/views/Auth.vue?6691","webpack:///src/views/Auth.vue","webpack:///./src/views/Auth.vue?a878","webpack:///./src/views/Auth.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","loginPage","_v","on","$event","preventDefault","login","directives","name","rawName","value","user","expression","attrs","domProps","target","composing","$set","signup","staticRenderFns","component"],"mappings":"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","file":"js/chunk-a62d3944.4d49961b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flip-card\"},[_c('div',{staticClass:\"flip-card-inner\",class:_vm.loginPage ? '' : 'signupPage'},[_c('div',{staticClass:\"loginForm\"},[_c('h1',[_vm._v(\"ورود به ترسیم\")]),_c('form',{staticClass:\"registrationForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('input',{staticClass:\"btn btn-green\",attrs:{\"type\":\"submit\",\"value\":\"ورود\"}})]),_c('button',{on:{\"click\":function($event){_vm.loginPage = false}}},[_vm._v(\"ثبت نام\")])]),_c('div',{staticClass:\"signupForm\"},[_c('h1',[_vm._v(\"ثبت نام در ترسیم\")]),_c('form',{staticClass:\"registrationForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.signup($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],attrs:{\"type\":\"email\",\"placeholder\":\"email\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.rpassword),expression:\"user.rpassword\"}],attrs:{\"type\":\"password\",\"placeholder\":\"repeat password\"},domProps:{\"value\":(_vm.user.rpassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"rpassword\", $event.target.value)}}}),_c('input',{staticClass:\"btn btn-blue\",attrs:{\"type\":\"submit\",\"value\":\"ثبت نام\"}})]),_c('button',{on:{\"click\":function($event){_vm.loginPage = true}}},[_vm._v(\"قبلا ثبت نام کردم\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"flip-card\">\n\t\t<div class=\"flip-card-inner\" :class=\"loginPage ? '' : 'signupPage'\">\n\t\t\t<div class=\"loginForm\">\n\t\t\t\t<h1>ورود به ترسیم</h1>\n\t\t\t\t<form @submit.prevent=\"login\" class=\"registrationForm\">\n\t\t\t\t\t<input type=\"email\" placeholder=\"email\" v-model=\"user.email\" />\n\t\t\t\t\t<input type=\"password\" placeholder=\"password\" v-model=\"user.password\" />\n\t\t\t\t\t<input class=\"btn btn-green\" type=\"submit\" value=\"ورود\" />\n\t\t\t\t</form>\n\t\t\t\t<button @click=\"loginPage = false \">ثبت نام</button>\n\t\t\t</div>\n\t\t\t<div class=\"signupForm\">\n\t\t\t\t<h1>ثبت نام در ترسیم</h1>\n\t\t\t\t<form @submit.prevent=\"signup\" class=\"registrationForm\">\n\t\t\t\t\t<!-- <input type=\"text\" placeholder=\"name\" v-model=\"user.name\" /> -->\n\t\t\t\t\t<input type=\"email\" placeholder=\"email\" v-model=\"user.email\" />\n\t\t\t\t\t<!-- <input type=\"text\" placeholder=\"imgURL\" v-model=\"user.imgURL\" /> -->\n\t\t\t\t\t<input type=\"password\" placeholder=\"password\" v-model=\"user.password\" />\n\t\t\t\t\t<input type=\"password\" placeholder=\"repeat password\" v-model=\"user.rpassword\" />\n\t\t\t\t\t<input class=\"btn btn-blue\" type=\"submit\" value=\"ثبت نام\" />\n\t\t\t\t</form>\n\t\t\t\t<button @click=\"loginPage = true \">قبلا ثبت نام کردم</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"app\",\n\tdata() {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\temail: null,\n\t\t\t\tpassword: null,\n\t\t\t\trpassword: null,\n\t\t\t},\n\t\t\tloginPage: true,\n\t\t};\n\t},\n\tmethods: {\n\t\tasync signup() {\n\t\t\tif (!this.validateSignupForm()) return;\n\t\t\tlet url = `${this.$store.state.domain}users`;\n\t\t\tawait this.$axios\n\t\t\t\t.post(url, this.user)\n\t\t\t\t.then(async () => {\n\t\t\t\t\tawait this.login();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.handleError(error);\n\t\t\t\t});\n\t\t},\n\t\tasync login() {\n\t\t\tif (!this.validateLoginForm()) return;\n\t\t\tconst data = {\n\t\t\t\t\tstrategy: \"local\",\n\t\t\t\t\t...this.user,\n\t\t\t\t},\n\t\t\t\turl = `${this.$store.state.domain}authentication`;\n\t\t\ttry {\n\t\t\t\tawait this.$axios.post(url, data).then(async (res) => {\n\t\t\t\t\tconst day = 60 * 60 * 1000 * 24;\n\t\t\t\t\tres.data.expire = new Date().getTime() + day;\n\t\t\t\t\tlocalStorage.setItem(\"userData\", JSON.stringify(res.data));\n\t\t\t\t\tawait this.$router.push(\"/\");\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tthis.handleError(error);\n\t\t\t}\n\t\t},\n\t\thandleError(error) {\n\t\t\tlet msg;\n\t\t\tif (error == \"Error: Network Error\")\n\t\t\t\tmsg = \"مشکل در برقراری ارتباط با سرور\";\n\t\t\telse if (error == \"Error: Request failed with status code 409\")\n\t\t\t\tmsg = \"ایمیل قبلا به ثبت رسیده است\";\n\t\t\telse if (error == \"Error: Request failed with status code 401\")\n\t\t\t\tmsg = \"ایمیل یا رمز عبور اشتباه است\";\n\t\t\telse msg = error;\n\t\t\tthis.sendError(msg);\n\t\t},\n\t\tsendError(msg) {\n\t\t\tthis.$toasted.error(msg, {\n\t\t\t\tposition: \"bottom-left\",\n\t\t\t\tduration: 5 * 1000,\n\t\t\t\tkeepOnHover: true,\n\t\t\t\ticonPack: \"fontawesome\",\n\t\t\t\ticon: \"fa-close\",\n\t\t\t});\n\t\t},\n\t\tvalidEmail: function (email) {\n\t\t\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\t\treturn re.test(email);\n\t\t},\n\t\tvalidLength(L) {\n\t\t\tif (L.length >= 3) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\t\tvalidateLoginForm() {\n\t\t\tconst user = this.user;\n\t\t\tlet errors = [];\n\t\t\tif (!this.validEmail(user.email))\n\t\t\t\terrors.push(\"ایمیل معتبر نمیباشد\");\n\t\t\tif (!this.validLength(user.password))\n\t\t\t\terrors.push(\"پسورد به اندازه کافی قوی نیست\");\n\t\t\tif (!errors.length) return true;\n\t\t\telse {\n\t\t\t\terrors.forEach((error) => {\n\t\t\t\t\tthis.sendError(error);\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tvalidateSignupForm() {\n\t\t\tconst user = this.user;\n\t\t\tlet errors = [];\n\t\t\tif (!this.validEmail(user.email))\n\t\t\t\terrors.push(\"ایمیل معتبر نمیباشد\");\n\t\t\tif (!this.validLength(user.password))\n\t\t\t\terrors.push(\"پسورد به اندازه کافی قوی نیست\");\n\t\t\tif (user.password !== user.rpassword)\n\t\t\t\terrors.push(\"فیلد های پسورد یکسان نیستند\");\n\t\t\t// this.validLength(user.name) &&\n\t\t\t// user.imgURL &&\n\t\t\tif (!errors.length) return true;\n\t\t\telse {\n\t\t\t\terrors.forEach((error) => {\n\t\t\t\t\tthis.sendError(error);\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t},\n\tcomputed: {},\n\tmounted() {},\n};\n</script>\n\n<style lang=\"stylus\">\n.registrationForm {\n\tbackground: #f4f3fb;\n}\n\n.registrationForm input, .registrationForm button {\n\tdisplay: block;\n\tmargin: 20px auto;\n\ttext-align: left;\n\tborder-radius: 3px;\n\tdirection: ltr;\n}\n\n.registrationForm input[type='email'], .registrationForm input[type='password'] {\n\tborder-radius: 0;\n\tbackground: transparent;\n\tborder: none;\n\tborder-bottom: 2px solid #cacaca;\n\tline-height: 1.5;\n}\n\n.flip-card {\n\tbackground-color: transparent;\n\tperspective: 1000px;\n}\n\n.flip-card button, .flip-card [type='submit'] {\n\tcursor: pointer;\n}\n\n.flip-card-inner {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: center;\n\ttransition: transform 0.6s;\n\ttransform-style: preserve-3d;\n\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n\n\th1 {\n\t\tmargin: 2.5rem;\n\t}\n}\n\n.flip-card-inner.signupPage {\n\ttransform: rotateY(180deg);\n}\n\n.loginForm, .signupForm {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\t-webkit-backface-visibility: hidden;\n\tbackface-visibility: hidden;\n}\n\n.loginForm {\n}\n\n.signupForm {\n\ttransform: rotateY(180deg);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Auth.vue?vue&type=template&id=415de193&\"\nimport script from \"./Auth.vue?vue&type=script&lang=js&\"\nexport * from \"./Auth.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Auth.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}